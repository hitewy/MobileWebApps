<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Accelerometer API Assignment</title>
    <script type="text/javascript" charset="utf-8">
        
	/*test to see if deviceready is the problem
		//wait for device API librarys to load
		document.addEventListener("deviceready", onDeviceReady, false);
		
		//device APIs are available
		function onDeviceReady(){
            console.log('in onDeviceReady()');
			startWatch();
		}
	*/
		//start watching the acceleration
		function startWatch(){
			console.log('In startWatch()');
			
			//update acceleration every 100 milliseconds
			var options = { frequency: 100};
			
			watchID = navigator.accelerometer.watchAcceleration(onSuccess, onError, options);
		}
		
		//stop watching
		function stopWatch(){
			
			if(watchID){
				navigator.accelerometer.clearWatch(watchID);
				watchID = null;
			}
		}
		
		//onSuccess: get a snapshot of the current acceleration
		function onSuccess(acceleration){
			var element = document.getElementById("myPlace");
			element.innerHTML =	'Acceleration X: ' + acceleration.x + '<br />' + 
								'Acceleration Y: ' + acceleration.y + '<br />' +
								'Acceleration Z: ' + acceleration.z + '<br />' +
								'Timestamp: ' + acceleration.timestamp + '<br />';
		}
		
		function onError(){
			alert('onError!');
		}
		
	</script>
</head>

<body>
	<h1>Accelerometer API Assignment</h1>
    <div id="myPlace">Waiting for accelerometer . . .</div>
    <div id="buttons">
    	<button onClick="startWatch();">Start</button>
        <button onClick="stopWatch();">Stop</button>
	</div>
</body>
</html>
